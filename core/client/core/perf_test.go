package core

import (
	"encoding/json"
	"fmt"
	"testing"
)

func TestServiceLatency(t *testing.T) {
	jsonStrs := []string{
		// 0714
		//// 8 nodes
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":57436052,"Min":10236921,"Mean":14984389.613671875,"StdDev":1772650.2530599611,"StdErr":792753.2932348555},"FELatencyAvg":{"Max":53851934,"Min":9141535,"Mean":13244035.896875001,"StdDev":1737463.7452530288,"StdErr":777017.40856543}},"ErrorCount":0,"ThroughputAvg":{"Max":66.96676936700008,"Min":51.22564006695143,"Mean":61.89150156668602,"StdDev":6.096576912039003,"StdErr":2.726472081074993}},"Customize":{"Latencies":[{"Max":9592,"Min":531,"Mean":952.8140624999996,"StdErr":0.08313061032702315,"Total":2560},{"Max":9602,"Min":1059,"Mean":1731.67890625,"StdErr":0.09479655788859177,"Total":2560},{"Max":29824,"Min":367,"Mean":695.4329861111031,"StdErr":0.03539724041168787,"Total":23040},{"Max":28919,"Min":1061,"Mean":2445.9507812500024,"StdErr":0.29294962585617396,"Total":2560}]}},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":52818027,"Min":10735279,"Mean":15472657.242578126,"StdDev":158261.3938759534,"StdErr":70776.64698410014},"FELatencyAvg":{"Max":47018552,"Min":9405167,"Mean":13375985.010546874,"StdDev":182715.33552301754,"StdErr":81712.78215222986}},"ErrorCount":0,"ThroughputAvg":{"Max":118.91844874911969,"Min":115.8060325540506,"Mean":117.61711809543102,"StdDev":1.037509885000452,"StdErr":0.4639885260378}},"Customize":{"Latencies":[{"Max":32720,"Min":446,"Mean":1014.4914062499989,"StdErr":0.06035517644364922,"Total":2560},{"Max":8091,"Min":849,"Mean":1826.585937500001,"StdErr":0.007261168609415515,"Total":2560},{"Max":28682,"Min":368,"Mean":780.6381510416661,"StdErr":0.014806854089373557,"Total":23040},{"Max":18281,"Min":644,"Mean":1706.587890625,"StdErr":0.1115578973615643,"Total":2560}]}},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":60412291,"Min":11948608,"Mean":20895505.641015623,"StdDev":664813.7094569001,"StdErr":297313.7293438847},"FELatencyAvg":{"Max":57074671,"Min":10271076,"Mean":18320837.40625,"StdDev":659032.981349463,"StdErr":294728.50914235006}},"ErrorCount":0,"ThroughputAvg":{"Max":184.513555043985,"Min":172.29526671267746,"Mean":178.4713458309518,"StdDev":5.27484456043378,"StdErr":2.3589822015749857}},"Customize":{"Latencies":[{"Max":32970,"Min":441,"Mean":1304.003906250002,"StdErr":0.06484243324653283,"Total":2560},{"Max":11462,"Min":862,"Mean":2052.961718749994,"StdErr":0.1988132610218849,"Total":2560},{"Max":40435,"Min":382,"Mean":1264.3792100694357,"StdErr":0.136549411267813,"Total":23040},{"Max":19918,"Min":483,"Mean":1676.1847656249968,"StdErr":1.466724721108233,"Total":2560}]}},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":83977941,"Min":16972299,"Mean":33930247.846875,"StdDev":1192142.8307440146,"StdErr":533142.4816865285},"FELatencyAvg":{"Max":76034158,"Min":12990262,"Mean":30769292.305468746,"StdDev":1147677.9645118988,"StdErr":513257.18898543937}},"ErrorCount":0,"ThroughputAvg":{"Max":229.44289406475133,"Min":211.34171078033086,"Mean":224.8560750845977,"StdDev":6.925199431578098,"StdErr":3.097043337350306}},"Customize":{"Latencies":[{"Max":38893,"Min":476,"Mean":2410.735937499996,"StdErr":1.4340875656082526,"Total":2560},{"Max":23042,"Min":977,"Mean":2615.804687500005,"StdErr":0.07804895875963418,"Total":2560},{"Max":40333,"Min":407,"Mean":2412.126475694459,"StdErr":0.12401983246776485,"Total":23040},{"Max":17672,"Min":390,"Mean":1838.7207031249986,"StdErr":0.23075060739477102,"Total":2560}]}},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":134024419,"Min":20292617,"Mean":60126423.11445313,"StdDev":2533738.4187128004,"StdErr":1133122.2682889292},"FELatencyAvg":{"Max":130082766,"Min":16913598,"Mean":55839583.34492187,"StdDev":2458990.3931034645,"StdErr":1099693.9349996552}},"ErrorCount":0,"ThroughputAvg":{"Max":272.57142865782396,"Min":246.28062561811115,"Mean":257.4518373264638,"StdDev":10.561314946621525,"StdErr":4.7231636304860585}},"Customize":{"Latencies":[{"Max":40299,"Min":531,"Mean":4432.935156249998,"StdErr":2.3156503506571324,"Total":2560},{"Max":19695,"Min":979,"Mean":3682.1113281250045,"StdErr":0.41215302351652133,"Total":2560},{"Max":40769,"Min":485,"Mean":4601.57330729167,"StdErr":0.24791951763091113,"Total":23040},{"Max":28837,"Min":439,"Mean":3558.8156249999993,"StdErr":0.437818636814686,"Total":2560}]}},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":218499089,"Min":39597527,"Mean":114075319.92343749,"StdDev":3791677.761703056,"StdErr":1695689.8447884563},"FELatencyAvg":{"Max":210057735,"Min":31302211,"Mean":107881808.58671874,"StdDev":3776831.6186062284,"StdErr":1689050.447754817}},"ErrorCount":0,"ThroughputAvg":{"Max":284.2721226319289,"Min":259.9258825813295,"Mean":272.6332120166064,"StdDev":8.895683139164133,"StdErr":3.9782704410939442}},"Customize":{"Latencies":[{"Max":47427,"Min":1344,"Mean":8681.031250000033,"StdErr":0.2167847463334353,"Total":2560},{"Max":36566,"Min":907,"Mean":6085.697656249989,"StdErr":0.8526163594169619,"Total":2560},{"Max":43865,"Min":532,"Mean":9251.038845486111,"StdErr":0.4351843950112181,"Total":23040},{"Max":62359,"Min":582,"Mean":6019.858203124994,"StdErr":1.9886165135133567,"Total":2560}]}},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":400262575,"Min":63435230,"Mean":216254764.93046874,"StdDev":11384048.440684361,"StdErr":5091101.234504143},"FELatencyAvg":{"Max":383569272,"Min":60275719,"Mean":205669600.38007814,"StdDev":10946969.695526816,"StdErr":4895633.677365627}},"ErrorCount":0,"ThroughputAvg":{"Max":300.8313374123987,"Min":262.67489802786025,"Mean":284.34131862928285,"StdDev":13.270313894405241,"StdErr":5.934664790130017}},"Customize":{"Latencies":[{"Max":73939,"Min":722,"Mean":17665.36093750005,"StdErr":2.139594193469875,"Total":2560},{"Max":62037,"Min":1028,"Mean":11217.096484375006,"StdErr":0.45355381872516204,"Total":2560},{"Max":81864,"Min":618,"Mean":17710.985633680604,"StdErr":0.9614725415583836,"Total":23040},{"Max":69596,"Min":573,"Mean":11530.628906250002,"StdErr":3.9678238171417357,"Total":2560}]}},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":634895803,"Min":77123242,"Mean":409572494.4300781,"StdDev":18968798.11067098,"StdErr":8483104.405385979},"FELatencyAvg":{"Max":609845846,"Min":75058818,"Mean":390592108.41562504,"StdDev":18603302.974099483,"StdErr":8319650.011222091}},"ErrorCount":0,"ThroughputAvg":{"Max":307.8517960134508,"Min":275.7042652619964,"Mean":290.86375781976625,"StdDev":12.16711366615531,"StdErr":5.44129864949799}},"Customize":{"Latencies":[{"Max":86643,"Min":781,"Mean":34188.728906250086,"StdErr":6.292862928502982,"Total":2560},{"Max":105935,"Min":1146,"Mean":21619.080468750002,"StdErr":7.640265975058665,"Total":2560},{"Max":106686,"Min":854,"Mean":33564.71093750008,"StdErr":1.326620049820694,"Total":23040},{"Max":101908,"Min":805,"Mean":22668.028906249965,"StdErr":6.436339480508698,"Total":2560}]}}]}],"Customize":null}`,
		//// 1 node
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":37118943,"Min":5700626,"Mean":7629836.780859375,"StdDev":557721.2041963135,"StdErr":249420.5050151996},"FELatencyAvg":{"Max":36290532,"Min":4950731,"Mean":6622285.7921875,"StdDev":555767.6108777431,"StdErr":248546.83152305702}},"ErrorCount":0,"ThroughputAvg":{"Max":123.9366427884279,"Min":104.06628360794511,"Mean":116.6131377150474,"StdDev":6.917876724264382,"StdErr":3.0937685230837455}},"Customize":{"Latencies":[{"Max":4704,"Min":332,"Mean":466.90664062500093,"StdErr":0.01636997066253881,"Total":2560},{"Max":4540,"Min":682,"Mean":929.4121093750009,"StdErr":0.05953606903309365,"Total":2560},{"Max":27846,"Min":248,"Mean":396.6132378472246,"StdErr":0.004877354144313631,"Total":23040},{"Max":5997,"Min":365,"Mean":738.4964843750005,"StdErr":0.08730339255114683,"Total":2560}]}},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":34526145,"Min":6145021,"Mean":8578919.418359376,"StdDev":89510.79022694158,"StdErr":40030.442333433035},"FELatencyAvg":{"Max":33738373,"Min":5355957,"Mean":7437214.165234375,"StdDev":100067.21803882043,"StdErr":44751.420370819134}},"ErrorCount":0,"ThroughputAvg":{"Max":208.45393584396442,"Min":204.14421764906578,"Mean":206.72708769757352,"StdDev":2.021279671690647,"StdErr":0.9039437494877487}},"Customize":{"Latencies":[{"Max":24647,"Min":261,"Mean":529.7421874999999,"StdErr":0.08114935286148958,"Total":2560},{"Max":5605,"Min":657,"Mean":1018.0660156249993,"StdErr":0.11955728112565671,"Total":2560},{"Max":26449,"Min":244,"Mean":485.5982638888905,"StdErr":0.014573895885317389,"Total":23040},{"Max":5618,"Min":317,"Mean":548.5140625000001,"StdErr":0.045904042016531664,"Total":2560}]}},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":45018145,"Min":7101040,"Mean":11642054.844140625,"StdDev":382839.4337041565,"StdErr":171210.9996460036},"FELatencyAvg":{"Max":42212450,"Min":5821473,"Mean":10199477.898046875,"StdDev":331964.811575736,"StdErr":148459.17696425095}},"ErrorCount":0,"ThroughputAvg":{"Max":325.6687906456555,"Min":300.06842802629836,"Mean":309.9687693622215,"StdDev":10.455609816105364,"StdErr":4.675890859005134}},"Customize":{"Latencies":[{"Max":22793,"Min":256,"Mean":785.1894531249993,"StdErr":0.07780851693831548,"Total":2560},{"Max":7104,"Min":643,"Mean":1228.214843749999,"StdErr":0.1430526954678208,"Total":2560},{"Max":32832,"Min":253,"Mean":718.2448784722236,"StdErr":0.046658560907950175,"Total":23040},{"Max":9187,"Min":242,"Mean":604.0171875,"StdErr":0.3343682895214274,"Total":2560}]}},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":44532132,"Min":9910855,"Mean":18304752.285546873,"StdDev":474523.0105104487,"StdErr":212213.1416778421},"FELatencyAvg":{"Max":42610139,"Min":8921927,"Mean":16499199.634765625,"StdDev":371964.1167896224,"StdErr":166347.4100664533}},"ErrorCount":0,"ThroughputAvg":{"Max":415.1411307828664,"Min":384.9356341758186,"Mean":404.1375457134735,"StdDev":11.198065389083352,"StdErr":5.007927085295601}},"Customize":{"Latencies":[{"Max":23987,"Min":342,"Mean":1330.4558593750005,"StdErr":0.03458817656762238,"Total":2560},{"Max":8145,"Min":640,"Mean":1481.690624999998,"StdErr":0.29308965885928634,"Total":2560},{"Max":23824,"Min":276,"Mean":1294.8031249999929,"StdErr":0.03160496525488847,"Total":23040},{"Max":6289,"Min":221,"Mean":728.9875000000001,"StdErr":0.1003857899814958,"Total":2560}]}},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":63699288,"Min":15555327,"Mean":31874561.45625,"StdDev":516227.32448519225,"StdErr":230863.87787834628},"FELatencyAvg":{"Max":58452793,"Min":14353290,"Mean":29546354.805859376,"StdDev":451991.64855271473,"StdErr":202136.8102852129}},"ErrorCount":0,"ThroughputAvg":{"Max":481.4979811466757,"Min":460.83046988025325,"Mean":472.71441332692365,"StdDev":8.018860967793946,"StdErr":3.586143645221403}},"Customize":{"Latencies":[{"Max":27411,"Min":373,"Mean":2567.6484374999995,"StdErr":0.1802155479738866,"Total":2560},{"Max":8942,"Min":673,"Mean":1821.4878906250024,"StdErr":0.1439408836330614,"Total":2560},{"Max":27567,"Min":284,"Mean":2524.4368923611096,"StdErr":0.14446855675644216,"Total":23040},{"Max":12040,"Min":252,"Mean":936.3546875000011,"StdErr":0.17318549060158,"Total":2560}]}},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":97908962,"Min":29001958,"Mean":59158511.20585938,"StdDev":2468711.8510517688,"StdErr":1104041.503162218},"FELatencyAvg":{"Max":91954480,"Min":27913867,"Mean":55775071.20351563,"StdDev":2531798.630496134,"StdErr":1132254.7686260454}},"ErrorCount":0,"ThroughputAvg":{"Max":549.9192130009907,"Min":489.2138404767974,"Mean":514.1373100995108,"StdDev":20.334390058522274,"StdErr":9.093815690370345}},"Customize":{"Latencies":[{"Max":32790,"Min":426,"Mean":4798.341796875001,"StdErr":0.5794304109212274,"Total":2560},{"Max":13675,"Min":682,"Mean":2747.7250000000004,"StdErr":0.5928613442474561,"Total":2560},{"Max":32458,"Min":421,"Mean":4986.569531249948,"StdErr":0.21185700228628482,"Total":23040},{"Max":12557,"Min":190,"Mean":1454.3492187499965,"StdErr":0.23150430995179455,"Total":2560}]}},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":173975092,"Min":54522600,"Mean":111212888.171875,"StdDev":6192342.197686472,"StdErr":2769299.6187934782},"FELatencyAvg":{"Max":162285066,"Min":51742178,"Mean":106632250.92929688,"StdDev":6389138.4210629305,"StdErr":2857309.5654304773}},"ErrorCount":0,"ThroughputAvg":{"Max":577.6325832594106,"Min":503.1509014461869,"Mean":545.642774931265,"StdDev":28.466247341365438,"StdErr":12.730492823923155}},"Customize":{"Latencies":[{"Max":40495,"Min":491,"Mean":9541.17851562504,"StdErr":1.4055385025374996,"Total":2560},{"Max":17539,"Min":670,"Mean":4083.0519531250034,"StdErr":0.913692442913488,"Total":2560},{"Max":41580,"Min":561,"Mean":9823.114539930573,"StdErr":0.39562412493530347,"Total":23040},{"Max":17190,"Min":209,"Mean":2203.5621093749987,"StdErr":0.7099852829869217,"Total":2560}]}},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":307141022,"Min":59389492,"Mean":204658433.26523435,"StdDev":6556427.64989457,"StdErr":2932123.58294469},"FELatencyAvg":{"Max":289283186,"Min":58105601,"Mean":195070861.18046874,"StdDev":6440657.876238127,"StdErr":2880349.766217576}},"ErrorCount":0,"ThroughputAvg":{"Max":609.1557880544565,"Min":561.4017365399128,"Mean":579.4788605959556,"StdDev":17.36659550642698,"StdErr":7.766577618022621}},"Customize":{"Latencies":[{"Max":48772,"Min":502,"Mean":17275.052343749983,"StdErr":1.645292127290522,"Total":2560},{"Max":58887,"Min":670,"Mean":9072.440625000001,"StdErr":2.6115002992996326,"Total":2560},{"Max":55931,"Min":537,"Mean":17824.59813368048,"StdErr":0.3732764749257689,"Total":23040},{"Max":28191,"Min":237,"Mean":4864.915234375001,"StdErr":1.0351231453928218,"Total":2560}]}}]}],"Customize":null}`,
		// 0725
		// 8 nodes
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":30263132,"Min":2630238,"Mean":3758982.890625,"StdDev":164808.40565174504,"StdErr":73704.55966013248},"FELatencyAvg":{"Max":29420998,"Min":2127671,"Mean":2958526.821875,"StdDev":122757.95960859081,"StdErr":54899.028492796504}},"ErrorCount":0,"ThroughputAvg":{"Max":237.57655656866504,"Min":214.46027848987433,"Mean":223.29646845530215,"StdDev":8.37144139224906,"StdErr":3.743822404544876}},"Customize":{"Latencies":[{"Max":26723,"Min":375,"Mean":592.711328125,"StdErr":0.001841183573120633,"Total":2560},{"Max":4871,"Min":313,"Mean":523.8882812499997,"StdErr":0.02339478868784223,"Total":2560},{"Max":4954,"Min":363,"Mean":543.0312500000002,"StdErr":0.060168581834976996,"Total":2560},{"Max":17840,"Min":289,"Mean":534.7222656249992,"StdErr":0.05457904589686039,"Total":2560}]}},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":42491880,"Min":2512566,"Mean":3903047.6460937504,"StdDev":209836.9709688056,"StdErr":93841.94625577984},"FELatencyAvg":{"Max":41796085,"Min":1969905,"Mean":3003436.041796875,"StdDev":168263.73847629727,"StdErr":75249.83147624951}},"ErrorCount":0,"ThroughputAvg":{"Max":446.7775630300893,"Min":393.96304934996294,"Mean":420.2855104542351,"StdDev":17.11139550670152,"StdErr":7.652448708573811}},"Customize":{"Latencies":[{"Max":34729,"Min":351,"Mean":602.3289062499994,"StdErr":0.03385593267829292,"Total":2560},{"Max":11483,"Min":268,"Mean":515.8242187499997,"StdErr":0.05657196404506924,"Total":2560},{"Max":34144,"Min":347,"Mean":586.9339843749996,"StdErr":0.012474327166651646,"Total":2560},{"Max":13642,"Min":276,"Mean":520.4226562500005,"StdErr":0.03024520531343896,"Total":2560}]}},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":19653488,"Min":2555208,"Mean":4718948.11875,"StdDev":84898.6371263551,"StdErr":37967.82476232348},"FELatencyAvg":{"Max":12730581,"Min":1957665,"Mean":3437630.964453125,"StdDev":93014.31553226849,"StdErr":41597.266482153376}},"ErrorCount":0,"ThroughputAvg":{"Max":724.9466822953844,"Min":691.1351204162628,"Mean":703.5099024676302,"StdDev":12.715402142451817,"StdErr":5.686500710353745}},"Customize":{"Latencies":[{"Max":5941,"Min":326,"Mean":666.8453125000007,"StdErr":0.00048524513561622515,"Total":2560},{"Max":7295,"Min":252,"Mean":598.3242187499998,"StdErr":0.0704392094349213,"Total":2560},{"Max":5492,"Min":327,"Mean":672.0980468750003,"StdErr":0.06566380194352218,"Total":2560},{"Max":8280,"Min":326,"Mean":647.800390625,"StdErr":2.29265609801267,"Total":2560}]}},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":37937252,"Min":2997622,"Mean":7373669.812109375,"StdDev":389743.53177210636,"StdErr":174298.60616665578},"FELatencyAvg":{"Max":32242225,"Min":2064009,"Mean":4947963.623046875,"StdDev":291371.62786251184,"StdErr":130305.35332306963}},"ErrorCount":0,"ThroughputAvg":{"Max":1032.738127421114,"Min":902.3546330831139,"Mean":945.3144566245242,"StdDev":48.28458031588282,"StdErr":21.59352077027245}},"Customize":{"Latencies":[{"Max":27701,"Min":336,"Mean":1149.285937499998,"StdErr":0.28761174835158265,"Total":2560},{"Max":6969,"Min":254,"Mean":765.2558593749993,"StdErr":0.09521269054426638,"Total":2560},{"Max":28298,"Min":353,"Mean":1055.3160156250005,"StdErr":0.044654839973835216,"Total":2560},{"Max":9051,"Min":264,"Mean":928.4386718749988,"StdErr":0.08571832905109955,"Total":2560}]}},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":41770307,"Min":4087355,"Mean":13202113.80546875,"StdDev":686221.7564969059,"StdErr":306887.6990332779},"FELatencyAvg":{"Max":34239199,"Min":2091438,"Mean":6743097.202734375,"StdDev":762163.8707154205,"StdErr":340850.0449828083}},"ErrorCount":0,"ThroughputAvg":{"Max":1173.3233989507798,"Min":1019.6267555891657,"Mean":1080.5675707520463,"StdDev":52.37494726706033,"StdErr":23.422788481422742}},"Customize":{"Latencies":[{"Max":24136,"Min":340,"Mean":1488.817968749998,"StdErr":0.21882110661556714,"Total":2560},{"Max":18261,"Min":275,"Mean":1136.6914062499998,"StdErr":0.20715188632026033,"Total":2560},{"Max":24156,"Min":345,"Mean":1381.369140625001,"StdErr":0.03803546178744656,"Total":2560},{"Max":13789,"Min":326,"Mean":1456.5187499999997,"StdErr":0.25137463697691453,"Total":2560}]}},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":66299324,"Min":6702707,"Mean":26486987.809765622,"StdDev":1615834.018225536,"StdErr":722622.9410217864},"FELatencyAvg":{"Max":49018404,"Min":2205974,"Mean":12223112.233593749,"StdDev":1913416.6184518945,"StdErr":855705.9256272429}},"ErrorCount":0,"ThroughputAvg":{"Max":1203.5908276665577,"Min":1018.7002911936876,"Mean":1103.2703424095525,"StdDev":59.999806728546496,"StdErr":26.832729296375845}},"Customize":{"Latencies":[{"Max":17702,"Min":354,"Mean":3006.1871093749955,"StdErr":0.39890137613881516,"Total":2560},{"Max":16758,"Min":283,"Mean":1877.6757812499964,"StdErr":0.42981417164026503,"Total":2560},{"Max":16253,"Min":335,"Mean":2679.8992187500044,"StdErr":0.35816384892857517,"Total":2560},{"Max":19928,"Min":360,"Mean":2563.142578125001,"StdErr":0.2226006980238938,"Total":2560}]}},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":105487027,"Min":6288307,"Mean":50384403.85234376,"StdDev":885870.2154770183,"StdErr":396173.2042097998},"FELatencyAvg":{"Max":53138576,"Min":2249941,"Mean":17454233.364453126,"StdDev":2046027.3278255851,"StdErr":915011.237768051}},"ErrorCount":0,"ThroughputAvg":{"Max":1167.5621347550093,"Min":1120.5275131885378,"Mean":1141.7021211271915,"StdDev":17.595219697148817,"StdErr":7.868821464373603}},"Customize":{"Latencies":[{"Max":30185,"Min":370,"Mean":4565.996484375014,"StdErr":1.1093738655577592,"Total":2560},{"Max":20396,"Min":308,"Mean":2820.817187499991,"StdErr":0.5776629858028731,"Total":2560},{"Max":28412,"Min":362,"Mean":3820.708203125,"StdErr":1.2174641422206258,"Total":2560},{"Max":19122,"Min":351,"Mean":3428.048828124995,"StdErr":1.1644722365674447,"Total":2560}]}},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":260214168,"Min":10284327,"Mean":105025594.61484376,"StdDev":704640.8488717895,"StdErr":315124.9675600955},"FELatencyAvg":{"Max":107779505,"Min":2131826,"Mean":39323049.81796875,"StdDev":5381867.489102214,"StdErr":2406844.3103057314}},"ErrorCount":0,"ThroughputAvg":{"Max":1081.3689110717078,"Min":1056.5903366340356,"Mean":1068.4558347239144,"StdDev":9.159092842089699,"StdErr":4.096070841428863}},"Customize":{"Latencies":[{"Max":46873,"Min":387,"Mean":11598.39960937499,"StdErr":2.119765886819844,"Total":2560},{"Max":23399,"Min":315,"Mean":5067.743359375,"StdErr":0.9831029801214612,"Total":2560},{"Max":47084,"Min":358,"Mean":9813.25507812501,"StdErr":3.5897441521844513,"Total":2560},{"Max":35889,"Min":335,"Mean":7752.798828124999,"StdErr":3.677812980313454,"Total":2560}]}}]}],"Customize":null}`,
		// 1 node
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":10677422,"Min":3260971,"Mean":4614810.036718749,"StdDev":87159.96692942682,"StdErr":38979.1221941664},"FELatencyAvg":{"Max":9807007,"Min":2715415,"Mean":3863517.208203125,"StdDev":80479.61121573312,"StdErr":35991.57629622675}},"ErrorCount":0,"ThroughputAvg":{"Max":192.35016019447298,"Min":182.57717217468624,"Mean":185.8959319354982,"StdDev":3.403974700512246,"StdErr":1.522303764806974}},"Customize":{"Latencies":[{"Max":5819,"Min":460,"Mean":737.3855468749991,"StdErr":0.02671313728832096,"Total":2560},{"Max":2839,"Min":362,"Mean":609.7632812499996,"StdErr":0.062016909509605644,"Total":2560},{"Max":4252,"Min":443,"Mean":728.5124999999998,"StdErr":0.10878423434559617,"Total":2560},{"Max":4094,"Min":443,"Mean":752.1035156249997,"StdErr":0.023868783170502693,"Total":2560}]}},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":47464178,"Min":2968674,"Mean":5408664.866406251,"StdDev":392980.7206456363,"StdErr":175746.32104209956},"FELatencyAvg":{"Max":46917186,"Min":2432029,"Mean":4498561.29453125,"StdDev":335360.6826016012,"StdErr":149977.85665558223}},"ErrorCount":0,"ThroughputAvg":{"Max":346.38079239271576,"Min":295.97367608275084,"Mean":317.44123359463475,"StdDev":20.798854975998363,"StdErr":9.30153071609842}},"Customize":{"Latencies":[{"Max":41466,"Min":350,"Mean":921.2484374999993,"StdErr":0.12900337404054762,"Total":2560},{"Max":2853,"Min":251,"Mean":695.089062500001,"StdErr":0.06878480914179677,"Total":2560},{"Max":3540,"Min":377,"Mean":891.9246093749992,"StdErr":0.06559570543081819,"Total":2560},{"Max":3112,"Min":296,"Mean":813.893359375,"StdErr":0.0323802294548091,"Total":2560}]}},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":39840646,"Min":3047990,"Mean":6595991.546484375,"StdDev":229980.87928246395,"StdErr":102850.57592015249},"FELatencyAvg":{"Max":38875220,"Min":2481070,"Mean":5411882.864453125,"StdDev":190463.6381431013,"StdErr":85177.92842597926}},"ErrorCount":0,"ThroughputAvg":{"Max":536.006218233263,"Min":492.92963300094885,"Mean":518.2606595962013,"StdDev":15.472890653485752,"StdErr":6.919687061923057}},"Customize":{"Latencies":[{"Max":34323,"Min":346,"Mean":1120.7828125000015,"StdErr":0.0594600239251016,"Total":2560},{"Max":5189,"Min":247,"Mean":813.1160156249991,"StdErr":0.12807971050930006,"Total":2560},{"Max":32787,"Min":305,"Mean":1101.3851562500017,"StdErr":0.11938084037565519,"Total":2560},{"Max":7941,"Min":288,"Mean":990.8218750000018,"StdErr":0.010868232044078227,"Total":2560}]}},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":17802207,"Min":3226199,"Mean":7913931.7734375,"StdDev":627057.4772104926,"StdErr":280428.6289684373},"FELatencyAvg":{"Max":14487385,"Min":2754915,"Mean":6297219.5671875,"StdDev":466415.082888649,"StdErr":208587.16621404362}},"ErrorCount":0,"ThroughputAvg":{"Max":925.6151026469636,"Min":754.259762294977,"Mean":863.9804664491401,"StdDev":65.13175762909418,"StdErr":29.127807510539025}},"Customize":{"Latencies":[{"Max":7265,"Min":315,"Mean":1397.9902343749995,"StdErr":0.264058750761898,"Total":2560},{"Max":6472,"Min":263,"Mean":952.1359374999988,"StdErr":0.1555219680798639,"Total":2560},{"Max":7150,"Min":358,"Mean":1431.784374999999,"StdErr":0.8364123822266478,"Total":2560},{"Max":6308,"Min":202,"Mean":1033.8003906249996,"StdErr":0.14421866626677377,"Total":2560}]}},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":55490753,"Min":3643014,"Mean":12334620.344921874,"StdDev":731483.7825282764,"StdErr":327129.4924343798},"FELatencyAvg":{"Max":52388169,"Min":2653753,"Mean":9714493.2125,"StdDev":609525.3036796695,"StdErr":272588.0026067887}},"ErrorCount":0,"ThroughputAvg":{"Max":1178.6452971398865,"Min":1039.803060000682,"Mean":1101.4726400296627,"StdDev":62.39092135111647,"StdErr":27.90206826398789}},"Customize":{"Latencies":[{"Max":43441,"Min":380,"Mean":2449.3101562500106,"StdErr":1.2139413630703457,"Total":2560},{"Max":7982,"Min":199,"Mean":1349.3414062500005,"StdErr":0.06966482115503017,"Total":2560},{"Max":43114,"Min":340,"Mean":2521.389062500003,"StdErr":0.2853082539260009,"Total":2560},{"Max":11895,"Min":257,"Mean":1572.305078124997,"StdErr":0.29074417138011777,"Total":2560}]}},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":59229984,"Min":4585307,"Mean":22437193.162890624,"StdDev":734266.5621010315,"StdErr":328373.9892925955},"FELatencyAvg":{"Max":49129420,"Min":2883510,"Mean":15902602.537500001,"StdDev":950800.6803655362,"StdErr":425210.9908700777}},"ErrorCount":0,"ThroughputAvg":{"Max":1290.3452592435433,"Min":1176.9335109090002,"Mean":1222.7569896495772,"StdDev":39.66352608860344,"StdErr":17.738068112290726}},"Customize":{"Latencies":[{"Max":37196,"Min":397,"Mean":4408.842578124995,"StdErr":0.1175172929222474,"Total":2560},{"Max":19093,"Min":242,"Mean":1918.699609375,"StdErr":0.3123827805685512,"Total":2560},{"Max":33423,"Min":437,"Mean":4445.536718750005,"StdErr":0.23927226293593223,"Total":2560},{"Max":14599,"Min":318,"Mean":2615.275000000005,"StdErr":1.431923840098077,"Total":2560}]}},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":115333127,"Min":7144124,"Mean":44153852.24296875,"StdDev":1627700.4775010182,"StdErr":727929.7829402287},"FELatencyAvg":{"Max":63224916,"Min":3042891,"Mean":25540364.121484376,"StdDev":2212829.7413982316,"StdErr":989607.5448799452}},"ErrorCount":0,"ThroughputAvg":{"Max":1345.2085895414898,"Min":1186.9646870401614,"Mean":1252.3960598782733,"StdDev":51.5853363756255,"StdErr":23.069663755618247}},"Customize":{"Latencies":[{"Max":24928,"Min":461,"Mean":7292.379687500005,"StdErr":0.5338362962409784,"Total":2560},{"Max":18470,"Min":267,"Mean":2995.3312499999993,"StdErr":0.6337231995376933,"Total":2560},{"Max":22585,"Min":449,"Mean":7836.410156250009,"StdErr":2.8498398139035235,"Total":2560},{"Max":18373,"Min":335,"Mean":4023.954296874997,"StdErr":0.5523616182117494,"Total":2560}]}},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":188154141,"Min":8884364,"Mean":78979416.57109374,"StdDev":5838802.770140917,"StdErr":2611191.980249834},"FELatencyAvg":{"Max":98959673,"Min":4684354,"Mean":39790079.47304688,"StdDev":5578967.601209909,"StdErr":2494990.1601148588}},"ErrorCount":0,"ThroughputAvg":{"Max":1580.1243564040851,"Min":1266.7066766196494,"Mean":1374.9221015843318,"StdDev":111.88606823451366,"StdErr":50.03697086151048}},"Customize":{"Latencies":[{"Max":52447,"Min":542,"Mean":12505.918359374997,"StdErr":2.265593233319657,"Total":2560},{"Max":31643,"Min":277,"Mean":4511.3339843750055,"StdErr":1.6286461219140898,"Total":2560},{"Max":51331,"Min":476,"Mean":13105.185937500017,"StdErr":4.595385177739905,"Total":2560},{"Max":23863,"Min":338,"Mean":5064.000781250005,"StdErr":4.771874705297779,"Total":2560}]}}]}],"Customize":null}`}

	for _, jsonStr := range jsonStrs {
		perf := &Perf{}

		json.Unmarshal([]byte(jsonStr), perf)

		fmt.Println(GetProcessLatency(perf))
		fmt.Println(GetServiceLatency(perf))
	}
}

func GetServiceLatency(perf *Perf) string {
	perfCase := perf.Cases[0]

	result0 := ""
	result1 := ""
	result2 := ""
	result3 := ""

	base0 := float64(0)
	base1 := float64(0)
	base2 := float64(0)
	base3 := float64(0)

	fmt.Println("\\# & Request & Latency & Rate & Count & Max & Min \\\\")
	for i, perfNClients := range perfCase.NClients {
		latencies := perfNClients.Customize.(map[string]interface{})["Latencies"].([]interface{})

		latency0 := latencies[0].(map[string]interface{})
		latency1 := latencies[1].(map[string]interface{})
		latency2 := latencies[2].(map[string]interface{})
		latency3 := latencies[3].(map[string]interface{})

		if i == 0 {
			base0 = latency0["Mean"].(float64)
			base1 = latency1["Mean"].(float64)
			base2 = latency2["Mean"].(float64)
			base3 = latency3["Mean"].(float64)
		}

		result0 += fmt.Sprintf(""+
			"%d & GetSupportedCurrenciesRequest & %v & %0.2f & %v & %v & %v \\\\\n",
			perfNClients.RoundsAvg.NClient, latency0["Mean"], latency0["Mean"].(float64)/base0, latency0["Total"],
			latency0["Max"], latency0["Min"],
		)
		result1 += fmt.Sprintf(""+
			"%d & ListProductsRequest & %v & %0.2f & %v & %v & %v \\\\\n",
			perfNClients.RoundsAvg.NClient, latency1["Mean"], latency1["Mean"].(float64)/base1, latency1["Total"],
			latency1["Max"], latency1["Min"],
		)
		result2 += fmt.Sprintf(""+
			"%d & CurrencyConversionRequest & %v & %0.2f & %v & %v & %v \\\\\n",
			perfNClients.RoundsAvg.NClient, latency2["Mean"], latency2["Mean"].(float64)/base2, latency2["Total"],
			latency2["Max"], latency2["Min"],
		)
		result3 += fmt.Sprintf(""+
			"%d & AdRequest & %v & %0.2f %v & %v & %v \\\\\n",
			perfNClients.RoundsAvg.NClient, latency3["Mean"], latency3["Mean"].(float64)/base3, latency3["Total"],
			latency3["Max"], latency3["Min"],
		)
	}

	return result0 + result1 + result2 + result3
}

func TestGetReport(t *testing.T) {
	jsonStrs := []string{
		//// 1 node
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":11286127,"Min":2749990,"Mean":3920870.5410156255,"StdDev":114134.15921196109,"StdErr":51042.347710545764},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":263.2711945833733,"Min":243.77647665775982,"Mean":254.58534166036335,"StdDev":7.361241779786977,"StdErr":3.2920474036830436}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":33955445,"Min":2329267,"Mean":3981756.3839843753,"StdDev":75726.04780638721,"StdErr":33865.71811249613},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":518.4107487090233,"Min":490.57720386309006,"Mean":501.1694008903576,"StdDev":9.607292143813549,"StdErr":4.296511662653356}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":32823566,"Min":2294592,"Mean":4291610.6703125,"StdDev":119511.35341259473,"StdErr":53447.102062712656},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":951.8505789720383,"Min":881.9759035707907,"Mean":928.9075432934155,"StdDev":25.697488079934487,"StdErr":11.492266039544813}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":18608849,"Min":2591115,"Mean":5974131.746875,"StdDev":320488.4023997008,"StdErr":143326.77075320753},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1424.5337101907585,"Min":1235.079375741191,"Mean":1331.8513037699654,"StdDev":68.51636420174846,"StdErr":30.641449585248534}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":46695177,"Min":3773394,"Mean":9226464.292578125,"StdDev":635159.7452068774,"StdErr":284052.0733708048},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1810.1655425026004,"Min":1510.0472052553607,"Mean":1721.6991311456995,"StdDev":111.10349649443533,"StdErr":49.68699413989339}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":42634303,"Min":4527581,"Mean":14995372.261328125,"StdDev":1311712.5869930703,"StdErr":586615.7022917223},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2344.709296507207,"Min":1882.8453675401129,"Mean":2106.688459401953,"StdDev":182.28859004814478,"StdErr":81.52193577404867}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":57859408,"Min":9016996,"Mean":28256724.335156247,"StdDev":2295023.3022856503,"StdErr":1026365.6227713524},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2407.2897699268538,"Min":1899.5527911060385,"Mean":2193.0583437090595,"StdDev":175.89542768512243,"StdErr":78.66282664706644}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":76290856,"Min":14412245,"Mean":44631288.474609375,"StdDev":1520628.1885116159,"StdErr":680045.5996028675},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2702.086346309139,"Min":2393.597026972973,"Mean":2563.3111755962354,"StdDev":98.66420019043618,"StdErr":44.123971714292594}},"Customize":null}]}],"Customize":null}`,
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":16420877,"Min":2991167,"Mean":4501027.914453125,"StdDev":91483.09697905142,"StdErr":40912.484727472925},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":228.85294405156716,"Min":215.84364055994948,"Mean":220.4510916139132,"StdDev":4.563032773519643,"StdErr":2.0406502930298647}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":31290483,"Min":2825218,"Mean":4612346.8859375,"StdDev":82549.80449576587,"StdErr":36917.39487637005},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":435.34307001463765,"Min":415.1532051833068,"Mean":430.3243339100595,"StdDev":7.656876743448166,"StdErr":3.424259378737463}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":32399414,"Min":2710724,"Mean":5171923.215625,"StdDev":132629.15529990284,"StdErr":59313.561409791844},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":789.19119302828,"Min":731.442307915114,"Mean":767.9016537865219,"StdDev":19.703799583703255,"StdErr":8.811807056838507}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":15263317,"Min":3273524,"Mean":7099448.62734375,"StdDev":167417.1681875386,"StdErr":74871.2337335703},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1149.7809879433405,"Min":1085.1611541250106,"Mean":1117.038836583486,"StdDev":26.165217550374894,"StdErr":11.701441017741757}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":44997434,"Min":3816441,"Mean":11391263.557421874,"StdDev":867175.5297936089,"StdErr":387812.68660858076},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1487.3992128706607,"Min":1248.2202256788019,"Mean":1389.9307642471445,"StdDev":99.44262508730208,"StdErr":44.47209391124668}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":52594556,"Min":7268622,"Mean":19142426.55234375,"StdDev":780585.3998875145,"StdErr":349088.4032784678},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1707.5408137272407,"Min":1522.531535308043,"Mean":1636.9342706668083,"StdDev":66.05857547719728,"StdErr":29.542293052762744}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":67464738,"Min":12849133,"Mean":34937375.86953125,"StdDev":1502385.8228943357,"StdErr":671887.3656847388},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1835.0510265148207,"Min":1681.2105001932555,"Mean":1749.5025090341483,"StdDev":56.14350022312601,"StdErr":25.108136598736873}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":137084915,"Min":14817520,"Mean":65923593.28359375,"StdDev":2445018.319352654,"StdErr":1093445.4336609647},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1863.1439272861503,"Min":1718.5451187724964,"Mean":1801.6489870929804,"StdDev":62.44815728048816,"StdErr":27.927664949753986}},"Customize":null}]}],"Customize":null}`,
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":29728522,"Min":3079632,"Mean":4436028.531640625,"StdDev":110414.3053888451,"StdErr":49378.77850757579},"FELatencyAvg":{"Max":28962704,"Min":2457854,"Mean":3697492.2140625003,"StdDev":89982.74519795933,"StdErr":40241.50701293597}},"ErrorCount":0,"ThroughputAvg":{"Max":199.49838344667526,"Min":189.01634977138545,"Mean":192.57403864789075,"StdDev":3.8301639512944696,"StdErr":1.7129013920127254}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":10266352,"Min":2777427,"Mean":4626166.2484375,"StdDev":90426.94497823711,"StdErr":40440.15919379428},"FELatencyAvg":{"Max":9422093,"Min":2283810,"Mean":3798581.501953125,"StdDev":99349.75490292707,"StdErr":44430.56110217759}},"ErrorCount":0,"ThroughputAvg":{"Max":375.7335523380492,"Min":357.18716070882294,"Mean":362.5089620586342,"StdDev":6.718242083454771,"StdErr":3.0044891975809365}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":33629335,"Min":2743362,"Mean":5266985.769921876,"StdDev":165954.75786316546,"StdErr":74217.22395431114},"FELatencyAvg":{"Max":32883457,"Min":2097142,"Mean":4233051.502734375,"StdDev":151337.11278289772,"StdErr":67680.01434022233}},"ErrorCount":0,"ThroughputAvg":{"Max":661.5397585181678,"Min":604.3042559707624,"Mean":631.7125855362056,"StdDev":18.27483698598726,"StdErr":8.172755555678977}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":52345873,"Min":3181216,"Mean":7390799.499609375,"StdDev":460933.1422225093,"StdErr":206135.56781842184},"FELatencyAvg":{"Max":49805346,"Min":2246360,"Mean":5838958.478124999,"StdDev":380799.72675632004,"StdErr":170298.81496809542}},"ErrorCount":0,"ThroughputAvg":{"Max":969.7532080364206,"Min":827.9663728314271,"Mean":906.6789229957469,"StdDev":51.348303989045526,"StdErr":22.96365964976588}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":49305362,"Min":4837154,"Mean":12345627.575781249,"StdDev":597141.6929074953,"StdErr":267049.8835080927},"FELatencyAvg":{"Max":44011715,"Min":2924379,"Mean":9493245.540625,"StdDev":670841.1809964463,"StdErr":300009.2965628588}},"ErrorCount":0,"ThroughputAvg":{"Max":1174.8919432718938,"Min":1038.9357233357025,"Mean":1094.118761581297,"StdDev":45.42054022036729,"StdErr":20.31268310150091}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":56676767,"Min":3949353,"Mean":22219834.812109374,"StdDev":472045.6628163791,"StdErr":211105.23810827368},"FELatencyAvg":{"Max":32346325,"Min":2875062,"Mean":14730534.960546875,"StdDev":608784.9774865331,"StdErr":272256.9186681134}},"ErrorCount":0,"ThroughputAvg":{"Max":1256.0079250175045,"Min":1152.296949804707,"Mean":1208.693918922201,"StdDev":34.377191161717604,"StdErr":15.373947262621105}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":110631778,"Min":8791838,"Mean":43968287.27226563,"StdDev":1702300.3991548608,"StdErr":761291.8821270588},"FELatencyAvg":{"Max":65258593,"Min":3162335,"Mean":24201921.66289062,"StdDev":1399066.9354491713,"StdErr":625681.7545473315}},"ErrorCount":0,"ThroughputAvg":{"Max":1276.6839156637766,"Min":1169.7937137556867,"Mean":1247.406860248548,"StdDev":39.63169484711747,"StdErr":17.72383274833656}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":226124781,"Min":7022827,"Mean":78139782.67109376,"StdDev":4157232.032845957,"StdErr":1859170.6847366397},"FELatencyAvg":{"Max":87381684,"Min":3378480,"Mean":39771190.995312504,"StdDev":5631056.803922069,"StdErr":2518285.15974649}},"ErrorCount":0,"ThroughputAvg":{"Max":1442.5997247423927,"Min":1176.7105539100633,"Mean":1368.1218918630907,"StdDev":99.46625224021412,"StdErr":44.4826602952519}},"Customize":null}]}],"Customize":null}`,
		//`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":17039371,"Min":3074090,"Mean":5129547.889453125,"StdDev":200609.42165484172,"StdErr":89715.26074942888},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":210.80578774866098,"Min":188.69969384606134,"Mean":194.87408444833105,"StdDev":8.054092302560091,"StdErr":3.6018995771164333}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":30277827,"Min":3158378,"Mean":5036001.4109375,"StdDev":149688.59379423576,"StdErr":66942.77423605286},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":418.0743756208629,"Min":382.8715479461836,"Mean":396.0739156488473,"StdDev":12.150132249705855,"StdErr":5.433704329190948}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":18794053,"Min":2724340,"Mean":5308955.441015625,"StdDev":318249.49671693816,"StdErr":142325.50169283396},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":849.9215809561312,"Min":717.7411955619763,"Mean":753.4323451805053,"StdDev":48.98300089273851,"StdErr":21.90586394761924}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":59536093,"Min":2831803,"Mean":6785554.666015625,"StdDev":520563.455562121,"StdErr":232803.0546478187},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1295.693799616753,"Min":1069.9425946123802,"Mean":1177.7819771579116,"StdDev":93.616935655584,"StdErr":41.86676639422193}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":143042820,"Min":4163595,"Mean":11107589.572656248,"StdDev":2291665.3743795557,"StdErr":1024863.9117590382},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1717.5354082084687,"Min":1023.0262140836526,"Mean":1472.0862136793023,"StdDev":242.85726338302837,"StdErr":108.6090699508044}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":63660270,"Min":4298916,"Mean":17722087.71953125,"StdDev":1478695.9097314372,"StdErr":661292.9144420773},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1949.0163883385615,"Min":1540.7031087106664,"Mean":1765.6981737231476,"StdDev":158.87438890853008,"StdErr":71.05078669664238}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":99933573,"Min":7294095,"Mean":42310505.06132813,"StdDev":4836066.87691116,"StdErr":2162754.856101692},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1876.0143989088278,"Min":1283.3885146528817,"Mean":1447.9995499851973,"StdDev":219.1018649311294,"StdErr":97.98533279659652}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":173512810,"Min":6867971,"Mean":82610246.58671875,"StdDev":7709480.477464582,"StdErr":3447784.4837636678},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1553.0620248231182,"Min":1294.7260948405526,"Mean":1431.5748556117605,"StdDev":105.00386399910248,"StdErr":46.959155560427206}},"Customize":null}]}],"Customize":null}`,
		// 8 nodes
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":31861194,"Min":1974549,"Mean":2892361.4265625,"StdDev":120589.64405164986,"StdErr":53929.328296398446},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":356.65506466812514,"Min":319.0317873770531,"Mean":345.6456327153835,"StdDev":13.670063175259964,"StdErr":6.11343810331958}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":15806338,"Min":2015207,"Mean":3133300.9347656253,"StdDev":110965.67492009778,"StdErr":49625.35845809643},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":676.9839057984829,"Min":607.5299829098968,"Mean":637.4867984559171,"StdDev":22.99147099367296,"StdErr":10.282098408913473}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":30211312,"Min":2112363,"Mean":3887827.4800781244,"StdDev":195925.18884173452,"StdErr":87620.40815092032},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1092.2957176548523,"Min":952.3219176335062,"Mean":1026.9425706533443,"StdDev":50.61789663149692,"StdErr":22.637011549216947}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":26327999,"Min":2337632,"Mean":5227361.6796875,"StdDev":615199.2182142489,"StdErr":275125.45432635746},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1717.8124003985445,"Min":1242.956985735311,"Mean":1539.7956457121259,"StdDev":159.73050366108077,"StdErr":71.43365285329112}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":22944425,"Min":3025925,"Mean":7526968.021093749,"StdDev":348142.0694028243,"StdErr":155693.86660243294},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2209.862005555515,"Min":1957.6387169794907,"Mean":2097.20215721202,"StdDev":97.67934217729315,"StdErr":43.683529821177956}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":65035932,"Min":3198410,"Mean":14226615.391406251,"StdDev":1501844.7678663929,"StdErr":671645.3985203292},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2469.8132025765344,"Min":1875.2363365482552,"Mean":2194.1680225513583,"StdDev":221.63905253466407,"StdErr":99.11999758723118}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":71824248,"Min":4354775,"Mean":27781282.65390625,"StdDev":4146696.2476790594,"StdErr":1854458.938370736},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2535.4908300210514,"Min":1784.648451233972,"Mean":2230.3583641038567,"StdDev":293.5270702495828,"StdErr":131.26929646288465}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":123350284,"Min":4681921,"Mean":51680709.33476562,"StdDev":5054066.177087176,"StdErr":2260247.106949883},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2512.370911916791,"Min":1967.3278940252105,"Mean":2279.2825491283957,"StdDev":221.3016743713206,"StdErr":98.96911748575917}},"Customize":null}]}],"Customize":null}`,
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":29885785,"Min":2555194,"Mean":3970061.6214843746,"StdDev":550884.2336605481,"StdErr":246362.91883957267},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":286.11703247943774,"Min":200.24425919889742,"Mean":255.13189573456123,"StdDev":31.4475265518802,"StdErr":14.063761418846738}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":31812679,"Min":2614260,"Mean":3874595.540625,"StdDev":71697.18845815424,"StdErr":32063.957437609242},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":526.3300541651707,"Min":503.47830940118024,"Mean":513.1397559510816,"StdDev":9.252989188705548,"StdErr":4.1380625642032465}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":25900007,"Min":2523688,"Mean":4288300.6640625,"StdDev":195761.88229277378,"StdErr":87547.3752419909},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":985.1327934088582,"Min":859.2566447919057,"Mean":928.5273794462762,"StdDev":41.66837417832486,"StdErr":18.634663434926267}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":22672651,"Min":2694987,"Mean":6362439.422265625,"StdDev":713594.8779106368,"StdErr":319129.3310807694},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1444.91755428841,"Min":1062.46703771239,"Mean":1260.0939161702502,"StdDev":135.39152228441904,"StdErr":60.54892948102771}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":38572775,"Min":3550313,"Mean":10346981.226171875,"StdDev":1444774.727432022,"StdErr":646122.9005423463},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1761.9974873502863,"Min":1225.383795649618,"Mean":1554.3543750128213,"StdDev":196.21650169093618,"StdErr":87.75068721762715}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":44740474,"Min":3834746,"Mean":16290908.07265625,"StdDev":666353.4281060274,"StdErr":298002.31245701923},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2002.5592315854813,"Min":1819.2138667359825,"Mean":1920.5026480938277,"StdDev":74.15916350168548,"StdErr":33.16498614885801}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":91983674,"Min":3805230,"Mean":32740366.2359375,"StdDev":3838554.057997915,"StdErr":1716653.5617982016},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2089.88442710537,"Min":1583.9996188995917,"Mean":1889.6206614092362,"StdDev":194.69243521026536,"StdErr":87.06910396702537}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":129806440,"Min":5561054,"Mean":65300567.52304688,"StdDev":6857378.217746008,"StdErr":3066712.7684612856},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2030.8964803473182,"Min":1541.0422331683642,"Mean":1799.2326652523207,"StdDev":162.0739111388784,"StdErr":72.48165653715849}},"Customize":null}]}],"Customize":null}`,
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":24772092,"Min":2716503,"Mean":3640316.721875,"StdDev":103283.0611758393,"StdErr":46189.589142689205},"FELatencyAvg":{"Max":24091756,"Min":2174313,"Mean":2933922.237109375,"StdDev":96369.45618460291,"StdErr":43097.73099669192}},"ErrorCount":0,"ThroughputAvg":{"Max":237.24039741886767,"Min":219.51493998938085,"Mean":228.3444280556166,"StdDev":6.725862251904347,"StdErr":3.007897040511587}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":29971048,"Min":2557375,"Mean":3873342.134765625,"StdDev":184985.50138574454,"StdErr":82728.03119008127},"FELatencyAvg":{"Max":28877073,"Min":2063535,"Mean":3008824.16640625,"StdDev":157346.62031889695,"StdErr":70367.54781258064}},"ErrorCount":0,"ThroughputAvg":{"Max":442.32670130764933,"Min":398.30623664692445,"Mean":423.80022140953224,"StdDev":14.827306548147416,"StdErr":6.630973072977076}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":36282373,"Min":2712888,"Mean":5175155.621874999,"StdDev":307880.80758964864,"StdErr":137688.4829475975},"FELatencyAvg":{"Max":30426554,"Min":2012851,"Mean":3807743.3964843745,"StdDev":239430.51480318652,"StdErr":107076.58139753895}},"ErrorCount":0,"ThroughputAvg":{"Max":700.3477754701775,"Min":598.6779516400392,"Mean":647.3099839948488,"StdDev":33.88249053354198,"StdErr":15.152710415998598}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":31437520,"Min":2922929,"Mean":6749583.93984375,"StdDev":439752.90487013635,"StdErr":196663.47771852463},"FELatencyAvg":{"Max":17889980,"Min":2119087,"Mean":4438522.30625,"StdDev":226112.58697662823,"StdErr":101120.62300961486}},"ErrorCount":0,"ThroughputAvg":{"Max":1111.634773593617,"Min":932.8851655822339,"Mean":1022.6244234815833,"StdDev":61.49113732572209,"StdErr":27.499672614817843}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":46588896,"Min":3320739,"Mean":13528215.271875001,"StdDev":773636.0228788937,"StdErr":345980.5473999577},"FELatencyAvg":{"Max":35645067,"Min":2210098,"Mean":7690768.834765626,"StdDev":632985.5483717914,"StdErr":283079.7429868613}},"ErrorCount":0,"ThroughputAvg":{"Max":1147.5468157692771,"Min":981.2146268054613,"Mean":1062.9303870162432,"StdDev":53.91342847318029,"StdErr":24.110818193220762}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":65464017,"Min":6367863,"Mean":24636162.87304688,"StdDev":569367.8441110557,"StdErr":254629.04072696477},"FELatencyAvg":{"Max":44320098,"Min":2254519,"Mean":9601049.376953125,"StdDev":718257.2980859193,"StdErr":321214.428771089}},"ErrorCount":0,"ThroughputAvg":{"Max":1203.8482127322623,"Min":1124.717419141868,"Mean":1168.2281623932668,"StdDev":25.820018438150296,"StdErr":11.547063281600401}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":145526863,"Min":8503342,"Mean":51621778.408203125,"StdDev":3179148.5644594943,"StdErr":1421758.4601404602},"FELatencyAvg":{"Max":72243493,"Min":2483887,"Mean":22640591.187890623,"StdDev":4659237.767367743,"StdErr":2083674.4742337249}},"ErrorCount":0,"ThroughputAvg":{"Max":1173.3650237225647,"Min":1030.406596289507,"Mean":1121.892748467345,"StdDev":53.50710933021002,"StdErr":23.92910674837257}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":299029202,"Min":7669599,"Mean":103394074.85468748,"StdDev":6771381.908994532,"StdErr":3028254.0500248135},"FELatencyAvg":{"Max":101304306,"Min":2160766,"Mean":36442021.00429688,"StdDev":6486180.944595476,"StdErr":2900708.301295856}},"ErrorCount":0,"ThroughputAvg":{"Max":1139.8349290610486,"Min":985.2307806023692,"Mean":1095.0479366106172,"StdDev":56.36835417037212,"StdErr":25.208694340947165}},"Customize":null}]}],"Customize":null}`,
		`{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":1,"RequestsAvg":{"E2ELatencyAvg":{"Max":42568929,"Min":2644180,"Mean":4179339.2460937505,"StdDev":432095.33596663043,"StdErr":193238.90879639908},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":259.5302228735811,"Min":199.16618059323952,"Mean":241.26975407683892,"StdDev":22.100674383641817,"StdErr":9.883722054082273}},"Customize":null},{"RoundsAvg":{"NClient":2,"RequestsAvg":{"E2ELatencyAvg":{"Max":46958341,"Min":2623153,"Mean":4226285.0734375,"StdDev":313201.12092169805,"StdErr":140067.79940200967},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":502.18276337288154,"Min":418.2639010464989,"Mean":474.6176321791652,"StdDev":33.05413886473319,"StdErr":14.782260287852226}},"Customize":null},{"RoundsAvg":{"NClient":4,"RequestsAvg":{"E2ELatencyAvg":{"Max":34176966,"Min":2667697,"Mean":5278834.96484375,"StdDev":372869.0472887268,"StdErr":166752.10728863534},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":836.3117738669937,"Min":697.3608292247884,"Mean":758.8853919694482,"StdDev":53.33715027867938,"StdErr":23.85309874984979}},"Customize":null},{"RoundsAvg":{"NClient":8,"RequestsAvg":{"E2ELatencyAvg":{"Max":318235141,"Min":3304034,"Mean":8645769.430468751,"StdDev":2216657.133982654,"StdErr":991319.2068790147},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1214.6285574299773,"Min":629.2189932309309,"Mean":973.9405029434424,"StdDev":211.651648514702,"StdErr":94.6534947257532}},"Customize":null},{"RoundsAvg":{"NClient":16,"RequestsAvg":{"E2ELatencyAvg":{"Max":36144901,"Min":4107816,"Mean":11416997.75859375,"StdDev":523158.46422625455,"StdErr":233963.57780285942},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1479.1844826059403,"Min":1291.7370359549177,"Mean":1389.2334345904096,"StdDev":60.6455876007529,"StdErr":27.12153128214037}},"Customize":null},{"RoundsAvg":{"NClient":32,"RequestsAvg":{"E2ELatencyAvg":{"Max":128694915,"Min":6506119,"Mean":21294958.54765625,"StdDev":2558055.143628568,"StdErr":1143997.038269293},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1686.507455158443,"Min":1196.023299150567,"Mean":1490.5362836014249,"StdDev":168.04564576030748,"StdErr":75.15229744857936}},"Customize":null},{"RoundsAvg":{"NClient":64,"RequestsAvg":{"E2ELatencyAvg":{"Max":812564042,"Min":7295234,"Mean":55139283.1984375,"StdDev":40734673.36850272,"StdErr":18217099.738644484},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":1999.7244676517676,"Min":465.5463334160896,"Mean":1515.2145363506284,"StdDev":560.0251244496731,"StdErr":250.45084947544967}},"Customize":null},{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":142596886,"Min":7035534,"Mean":66525779.63945313,"StdDev":5347612.846618714,"StdErr":2391525.16847812},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2002.9241754090265,"Min":1625.0719915620675,"Mean":1756.5317957035707,"StdDev":133.72564380328578,"StdErr":59.8039259758141}},"Customize":null}]}],"Customize":null}`,
	}

	perfbase := &Perf{}
	json.Unmarshal([]byte(jsonStrs[0]), perfbase)
	report := GetReport(perfbase)

	fmt.Printf("\"trace_off_throughputs\":[%s],\n", report.Cases[0].ThroughputsMean)
	fmt.Printf("\"trace_off_e2eLatencies\":[%s],\n", report.Cases[0].E2ELatenciesMean)
	fmt.Printf("\"trace_off_throughputs_error_bar\":[%s],\n", report.Cases[0].ThroughputsErrorBar)
	fmt.Printf("\"trace_off_e2eLatency_error_bar\":[%s],\n", report.Cases[0].E2ELatenciesErrorBar)

	perf3MileBeach := &Perf{}
	json.Unmarshal([]byte(jsonStrs[1]), perf3MileBeach)
	report = GetReport(perf3MileBeach)

	fmt.Printf("\"trace_on_throughputs\":[%s],\n", report.Cases[0].ThroughputsMean)
	fmt.Printf("\"trace_on_e2eLatencies\":[%s],\n", report.Cases[0].E2ELatenciesMean)
	fmt.Printf("\"trace_on_throughputs_error_bar\":[%s],\n", report.Cases[0].ThroughputsErrorBar)
	fmt.Printf("\"trace_on_e2eLatencies_error_bar\":[%s],\n", report.Cases[0].E2ELatenciesErrorBar)

	perf3MileBeachFELatency := &Perf{}
	json.Unmarshal([]byte(jsonStrs[2]), perf3MileBeachFELatency)
	report = GetReport(perf3MileBeachFELatency)
	fmt.Printf("\"process_e2eLatencies\":[%s],\n", report.Cases[0].E2ELatenciesMean)
	fmt.Printf("\"process_e2eLatencies_error_bar\":[%s],\n", report.Cases[0].E2ELatenciesErrorBar)
	fmt.Printf("\"process_feLatencies\":[%s],\n", report.Cases[0].FELatenciesMean)
	fmt.Printf("\"process_feLatencies_error_bar\":[%s],\n", report.Cases[0].FELatenciesErrorBar)

	perfJaeger := &Perf{}
	json.Unmarshal([]byte(jsonStrs[3]), perfJaeger)
	report = GetReport(perfJaeger)

	fmt.Printf("\"jaeger_on_throughputs\":[%s],\n", report.Cases[0].ThroughputsMean)
	fmt.Printf("\"jaeger_on_e2eLatencies\":[%s],\n", report.Cases[0].E2ELatenciesMean)
	fmt.Printf("\"jaeger_on_throughputs_error_bar\":[%s],\n", report.Cases[0].ThroughputsErrorBar)
	fmt.Printf("\"jaeger_on_e2eLatencies_error_bar\":[%s],\n", report.Cases[0].E2ELatenciesErrorBar)

	overhead3MileBeach := GetOverhead(perfbase, perf3MileBeach)

	fmt.Printf("\"trace_on_e2eLatencies_overhead\":[%s],\n", overhead3MileBeach.Cases[0].E2ELatencies)
	fmt.Printf("\"trace_on_throughputs_loss\":[%s],\n", overhead3MileBeach.Cases[0].Throughputs)

	overheadJaeger := GetOverhead(perfbase, perfJaeger)
	fmt.Printf("\"jaeger_on_e2eLatencies_overhead\":[%s],\n", overheadJaeger.Cases[0].E2ELatencies)
	fmt.Printf("\"jaeger_on_throughputs_loss\":[%s]\n", overheadJaeger.Cases[0].Throughputs)

	table := GetTable(perfbase, perf3MileBeach, perfJaeger)

	fmt.Printf(table.Cases[0].Throughput)
	fmt.Printf(table.Cases[0].Latency)

	processLatency := GetProcessLatency(perf3MileBeachFELatency)

	fmt.Printf(processLatency)
}

func TestGetSampleRate(t *testing.T) {
	jsonStr := `
{"Cases":[{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":77301349,"Min":10806071,"Mean":39214319.85390625,"StdDev":2925123.7529612584,"StdErr":1308155.110844135},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":3260.683749715749,"Min":2653.305050828904,"Mean":2996.0539348376533,"StdDev":203.55008460740137,"StdErr":91.03036520159661}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":92665893,"Min":15098994,"Mean":55143028.37578125,"StdDev":4422379.693694341,"StdErr":1977748.3234830487},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2465.482261187393,"Min":2013.8937111110536,"Mean":2176.959208911422,"StdDev":169.73860671658935,"StdErr":75.90941260487922}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":92238301,"Min":9042670,"Mean":42622761.44453125,"StdDev":3004750.3002294204,"StdErr":1343765.185345177},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":2957.1116979809876,"Min":2483.001887983463,"Mean":2759.996723342181,"StdDev":155.64132439242877,"StdErr":69.60491628991338}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":76434974,"Min":5030008,"Mean":40066920.73476563,"StdDev":1917012.9783580939,"StdErr":857314.2666716062},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":3073.6465586087397,"Min":2693.481212045292,"Mean":2955.065967688248,"StdDev":135.08754474799255,"StdErr":60.41298659401121}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":74881243,"Min":6423980,"Mean":39099864.446093746,"StdDev":2465213.361208009,"StdErr":1102476.9309403703},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":3294.4115763975587,"Min":2808.150980720129,"Mean":3002.6537216544684,"StdDev":189.14227636414907,"StdErr":84.5869974738578}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":81292554,"Min":6660640,"Mean":40922515.58242188,"StdDev":2574443.8389467085,"StdErr":1151326.285628072},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":3113.3822234473328,"Min":2602.0976861318973,"Mean":2881.2827260225386,"StdDev":176.98913965834063,"StdErr":79.1519495110507}},"Customize":null}]},{"NClients":[{"RoundsAvg":{"NClient":128,"RequestsAvg":{"E2ELatencyAvg":{"Max":88020358,"Min":6932696,"Mean":40146933.728515625,"StdDev":4491933.713236574,"StdErr":2008853.8266440053},"FELatencyAvg":{"Max":0,"Min":0,"Mean":0,"StdDev":0,"StdErr":0}},"ErrorCount":0,"ThroughputAvg":{"Max":3494.994103562682,"Min":2535.220087035987,"Mean":2952.1337486055436,"StdDev":322.63583735948754,"StdErr":144.28713286267606}},"Customize":null}]}],"Customize":null}
`

	perf := &Perf{}
	json.Unmarshal([]byte(jsonStr), perf)
	report := GetSampleRate(perf)

	fmt.Println(report)
}
